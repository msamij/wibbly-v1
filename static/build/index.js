(()=>{var Wt=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var M=(a,o,f,c)=>{for(var h=c>1?void 0:c?Vt(o,f):o,g=a.length-1,w;g>=0;g--)(w=a[g])&&(h=(c?w(o,f,h):w(h))||h);return c&&h&&Wt(o,f,h),h};var B=(a,o,f)=>new Promise((c,h)=>{var g=E=>{try{b(f.next(E))}catch(k){h(k)}},w=E=>{try{b(f.throw(E))}catch(k){h(k)}},b=E=>E.done?c(E.value):Promise.resolve(E.value).then(g,w);b((f=f.apply(a,o)).next())});var lt;(function(a){(function(o){var f=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),c=h(a);typeof f.Reflect>"u"?f.Reflect=a:c=h(f.Reflect,c),o(c);function h(g,w){return function(b,E){typeof g[b]!="function"&&Object.defineProperty(g,b,{configurable:!0,writable:!0,value:E}),w&&w(b,E)}}})(function(o){var f=Object.prototype.hasOwnProperty,c=typeof Symbol=="function",h=c&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",g=c&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w=typeof Object.create=="function",b={__proto__:[]}instanceof Array,E=!w&&!b,k={create:w?function(){return Y(Object.create(null))}:b?function(){return Y({__proto__:null})}:function(){return Y({})},has:E?function(t,e){return f.call(t,e)}:function(t,e){return e in t},get:E?function(t,e){return f.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},Q=Object.getPrototypeOf(Function),V=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",N=!V&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:qt(),vt=!V&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Gt(),gt=!V&&typeof WeakMap=="function"?WeakMap:$t(),$=new gt;function _t(t,e,r,n){if(d(r)){if(!ut(t))throw new TypeError;if(!at(e))throw new TypeError;return xt(t,e)}else{if(!ut(t))throw new TypeError;if(!y(e))throw new TypeError;if(!y(n)&&!d(n)&&!H(n))throw new TypeError;return H(n)&&(n=void 0),r=O(r),Bt(t,e,r,n)}}o("decorate",_t);function wt(t,e){function r(n,i){if(!y(n))throw new TypeError;if(!d(i)&&!Ut(i))throw new TypeError;rt(t,e,n,i)}return r}o("metadata",wt);function Mt(t,e,r,n){if(!y(r))throw new TypeError;return d(n)||(n=O(n)),rt(t,e,r,n)}o("defineMetadata",Mt);function Et(t,e,r){if(!y(e))throw new TypeError;return d(r)||(r=O(r)),K(t,e,r)}o("hasMetadata",Et);function Tt(t,e,r){if(!y(e))throw new TypeError;return d(r)||(r=O(r)),J(t,e,r)}o("hasOwnMetadata",Tt);function bt(t,e,r){if(!y(e))throw new TypeError;return d(r)||(r=O(r)),tt(t,e,r)}o("getMetadata",bt);function kt(t,e,r){if(!y(e))throw new TypeError;return d(r)||(r=O(r)),et(t,e,r)}o("getOwnMetadata",kt);function Ot(t,e){if(!y(t))throw new TypeError;return d(e)||(e=O(e)),nt(t,e)}o("getMetadataKeys",Ot);function Lt(t,e){if(!y(t))throw new TypeError;return d(e)||(e=O(e)),ot(t,e)}o("getOwnMetadataKeys",Lt);function St(t,e,r){if(!y(e))throw new TypeError;d(r)||(r=O(r));var n=A(e,r,!1);if(d(n)||!n.delete(t))return!1;if(n.size>0)return!0;var i=$.get(e);return i.delete(r),i.size>0||$.delete(e),!0}o("deleteMetadata",St);function xt(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!d(i)&&!H(i)){if(!at(i))throw new TypeError;e=i}}return e}function Bt(t,e,r,n){for(var i=t.length-1;i>=0;--i){var v=t[i],s=v(e,r,n);if(!d(s)&&!H(s)){if(!y(s))throw new TypeError;n=s}}return n}function A(t,e,r){var n=$.get(t);if(d(n)){if(!r)return;n=new N,$.set(t,n)}var i=n.get(e);if(d(i)){if(!r)return;i=new N,n.set(e,i)}return i}function K(t,e,r){var n=J(t,e,r);if(n)return!0;var i=X(e);return H(i)?!1:K(t,i,r)}function J(t,e,r){var n=A(e,r,!1);return d(n)?!1:Ht(n.has(t))}function tt(t,e,r){var n=J(t,e,r);if(n)return et(t,e,r);var i=X(e);if(!H(i))return tt(t,i,r)}function et(t,e,r){var n=A(e,r,!1);if(!d(n))return n.get(t)}function rt(t,e,r,n){var i=A(r,n,!0);i.set(t,e)}function nt(t,e){var r=ot(t,e),n=X(t);if(n===null)return r;var i=nt(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var v=new vt,s=[],l=0,u=r;l<u.length;l++){var p=u[l],m=v.has(p);m||(v.add(p),s.push(p))}for(var x=0,ft=i;x<ft.length;x++){var p=ft[x],m=v.has(p);m||(v.add(p),s.push(p))}return s}function ot(t,e){var r=[],n=A(t,e,!1);if(d(n))return r;for(var i=n.keys(),v=At(i),s=0;;){var l=Rt(v);if(!l)return r.length=s,r;var u=jt(l);try{r[s]=u}catch(p){try{Dt(v)}finally{throw p}}s++}}function it(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}function d(t){return t===void 0}function H(t){return t===null}function Pt(t){return typeof t=="symbol"}function y(t){return typeof t=="object"?t!==null:typeof t=="function"}function Ft(t,e){switch(it(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var r=e===3?"string":e===5?"number":"default",n=st(t,h);if(n!==void 0){var i=n.call(t,r);if(y(i))throw new TypeError;return i}return It(t,r==="default"?"number":r)}function It(t,e){if(e==="string"){var r=t.toString;if(C(r)){var n=r.call(t);if(!y(n))return n}var i=t.valueOf;if(C(i)){var n=i.call(t);if(!y(n))return n}}else{var i=t.valueOf;if(C(i)){var n=i.call(t);if(!y(n))return n}var v=t.toString;if(C(v)){var n=v.call(t);if(!y(n))return n}}throw new TypeError}function Ht(t){return!!t}function Ct(t){return""+t}function O(t){var e=Ft(t,3);return Pt(e)?e:Ct(e)}function ut(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}function C(t){return typeof t=="function"}function at(t){return typeof t=="function"}function Ut(t){switch(it(t)){case 3:return!0;case 4:return!0;default:return!1}}function st(t,e){var r=t[e];if(r!=null){if(!C(r))throw new TypeError;return r}}function At(t){var e=st(t,g);if(!C(e))throw new TypeError;var r=e.call(t);if(!y(r))throw new TypeError;return r}function jt(t){return t.value}function Rt(t){var e=t.next();return e.done?!1:e}function Dt(t){var e=t.return;e&&e.call(t)}function X(t){var e=Object.getPrototypeOf(t);if(typeof t!="function"||t===Q||e!==Q)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(n==null||n===Object.prototype)return e;var i=n.constructor;return typeof i!="function"||i===t?e:i}function qt(){var t={},e=[],r=function(){function s(l,u,p){this._index=0,this._keys=l,this._values=u,this._selector=p}return s.prototype["@@iterator"]=function(){return this},s.prototype[g]=function(){return this},s.prototype.next=function(){var l=this._index;if(l>=0&&l<this._keys.length){var u=this._selector(this._keys[l],this._values[l]);return l+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:u,done:!1}}return{value:void 0,done:!0}},s.prototype.throw=function(l){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),l},s.prototype.return=function(l){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:l,done:!0}},s}();return function(){function s(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(s.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),s.prototype.has=function(l){return this._find(l,!1)>=0},s.prototype.get=function(l){var u=this._find(l,!1);return u>=0?this._values[u]:void 0},s.prototype.set=function(l,u){var p=this._find(l,!0);return this._values[p]=u,this},s.prototype.delete=function(l){var u=this._find(l,!1);if(u>=0){for(var p=this._keys.length,m=u+1;m<p;m++)this._keys[m-1]=this._keys[m],this._values[m-1]=this._values[m];return this._keys.length--,this._values.length--,l===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},s.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},s.prototype.keys=function(){return new r(this._keys,this._values,n)},s.prototype.values=function(){return new r(this._keys,this._values,i)},s.prototype.entries=function(){return new r(this._keys,this._values,v)},s.prototype["@@iterator"]=function(){return this.entries()},s.prototype[g]=function(){return this.entries()},s.prototype._find=function(l,u){return this._cacheKey!==l&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=l)),this._cacheIndex<0&&u&&(this._cacheIndex=this._keys.length,this._keys.push(l),this._values.push(void 0)),this._cacheIndex},s}();function n(s,l){return s}function i(s,l){return l}function v(s,l){return[s,l]}}function Gt(){return function(){function t(){this._map=new N}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return this._map.set(e,e),this},t.prototype.delete=function(e){return this._map.delete(e)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[g]=function(){return this.keys()},t}()}function $t(){var t=16,e=k.create(),r=n();return function(){function u(){this._key=n()}return u.prototype.has=function(p){var m=i(p,!1);return m!==void 0?k.has(m,this._key):!1},u.prototype.get=function(p){var m=i(p,!1);return m!==void 0?k.get(m,this._key):void 0},u.prototype.set=function(p,m){var x=i(p,!0);return x[this._key]=m,this},u.prototype.delete=function(p){var m=i(p,!1);return m!==void 0?delete m[this._key]:!1},u.prototype.clear=function(){this._key=n()},u}();function n(){var u;do u="@@WeakMap@@"+l();while(k.has(e,u));return e[u]=!0,u}function i(u,p){if(!f.call(u,r)){if(!p)return;Object.defineProperty(u,r,{value:k.create()})}return u[r]}function v(u,p){for(var m=0;m<p;++m)u[m]=Math.random()*255|0;return u}function s(u){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(u)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(u)):v(new Uint8Array(u),u):v(new Array(u),u)}function l(){var u=s(t);u[6]=u[6]&79|64,u[8]=u[8]&191|128;for(var p="",m=0;m<t;++m){var x=u[m];(m===4||m===6||m===8)&&(p+="-"),x<16&&(p+="0"),p+=x.toString(16).toLowerCase()}return p}}function Y(t){return t.__=void 0,delete t.__,t}})})(lt||(lt={}));function L(a){for(let o of Object.getOwnPropertyNames(a.prototype)){let f=Reflect.getMetadata("eventType",a.prototype,o),c=Reflect.getMetadata("listener",a.prototype,o);if(f&&c){let h=a.prototype[o]();h&&h.addEventListener(f,c)}}}function S(a,o){return function(f,c){Reflect.defineMetadata("eventType",a,f,c),Reflect.defineMetadata("listener",o,f,c)}}var T=class{static getSignupForm(){return document.querySelector(".form-signup")}static getLoginForm(){return document.querySelector(".form-login")}static getProfileMenu(){return document.querySelector(".header__profile-menu")}static getOverlay(){return document.querySelector(".overlay")}},P=class{static getLoginButton(){return document.querySelector(".btn-login")}static getSignupButton(){return document.querySelector(".btn-signup")}static getLogoutButton(){return document.querySelector(".btn-logout")}},F=class{static getUsernameField(){return document.querySelector(".input__username")}static getPasswordField(){return document.querySelector(".input__password")}static getConfirmPasswordField(){return document.querySelector(".input__confirm-password")}static getCreditCardField(){return document.querySelector(".input__credit-card-no")}};function I(a,o){let f="0",c="hidden",h=a==="signup"?T.getSignupForm():T.getLoginForm(),g=T.getOverlay();o&&(f="1",c="visible"),[h,g].forEach(w=>{w.style.visibility=c,w.style.opacity=f})}var _={authButton:null};function ct(a){let o=a.target;o.closest(".btn-login")?(_.authButton="login",I(_.authButton,!0)):o.closest(".btn-signup")&&(_.authButton="signup",I(_.authButton,!0))}var j=class{getAuthContainer(){return T.getProfileMenu()}};M([S("click",ct)],j.prototype,"getAuthContainer",1),j=M([L],j);function W(a){let o=P.getLogoutButton(),f=P.getLoginButton(),c=P.getSignupButton();a?o.style.display="block":o.style.display="none",[f,c].forEach(h=>{a?h.style.display="none":h.style.display="block"})}function Z(){let a=F.getUsernameField(),o=F.getPasswordField(),f=F.getConfirmPasswordField(),c=F.getCreditCardField();if(_.authButton==="login")return{username:a.value,password1:o.value};if(_.authButton="signup")return{username:a.value,password1:o.value,password2:f.value,credit_card_no:+c.value}}function pt(){let a=`${"http://127.0.0.1:8000/"}${"api/v1/auth/"}`;if(_.authButton==="login")return`${a}${"login"}`;if(_.authButton==="signup")return`${a}${"signup"}`}function mt(a){let o=null;if(document.cookie&&document.cookie!==""){let f=document.cookie.split(";");for(let c=0;c<f.length;c++){let h=f[c].trim();if(h.substring(0,a.length+1)===a+"="){o=decodeURIComponent(h.substring(a.length+1));break}}}return o}var U=class{static httpFetch(o,f,c){return B(this,null,function*(){return yield fetch(f,{method:o,headers:{"Content-Type":"application/json","X-CSRFToken":mt("csrftoken")},body:JSON.stringify(c)})})}static get(o){return B(this,null,function*(){return yield this.httpFetch("GET",o)})}static post(o,f){return B(this,null,function*(){return yield this.httpFetch("POST",o,f)})}};function ht(a){let o=document.querySelector(".message");o.style.visibility="visible",o.style.opacity="1",o.textContent=a,setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0"},5e3)}function z(a){return B(this,null,function*(){a.preventDefault(),console.log(Z());let o=yield U.post(pt(),Z()),f=yield o.json();o.status==400?ht(f):(I(_.authButton,!1),W(!0))})}var R=class{getLoginForm(){return T.getLoginForm()}};M([S("submit",z)],R.prototype,"getLoginForm",1),R=M([L],R);var D=class{getSignupForm(){return T.getSignupForm()}};M([S("submit",z)],D.prototype,"getSignupForm",1),D=M([L],D);function dt(){return B(this,null,function*(){yield U.post(`${"http://127.0.0.1:8000/"}${"api/v1/auth/"}${"logout"}`),W(!1)})}var q=class{getLogoutButton(){return P.getLogoutButton()}};M([S("click",dt)],q.prototype,"getLogoutButton",1),q=M([L],q);function yt(){I(_.authButton,!1)}var G=class{getOverlay(){return T.getOverlay()}};M([S("click",yt)],G.prototype,"getOverlay",1),G=M([L],G);})();
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
